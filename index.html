<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Checklist cho MÃ¬nh Huyá»n ğŸ’–</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      padding: 40px;
      background: #e0f7fa;
      color: #333;
    }
    h1 {
      color: #0288d1;
      font-size: 50px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin: 30px 0;
      display: flex;
      align-items: center;
    }
    input[type="checkbox"] {
      transform: scale(2.5);
      margin-right: 24px;
    }
    input[type="text"] {
      width: 60%;
      padding: 16px;
      border-radius: 5px;
      border: 1px solid #81d4fa;
      margin-right: 10px;
    }
    button {
      padding: 8px 12px;
      background: #4fc3f7;
      border: none;
      color: white;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #29b6f6;
    }
    .done {
      text-decoration: line-through;
      color: #888;
    }
    p {
      color: #ffffff;
      background: #4169e1;
      padding: 30px;
      border-radius: 10px;
      border-left: 5px solid #4fc3f7;
      font-size: 30px;
    }
    li span {
      font-size: 27px;
      font-family: 'Segoe UI', sans-serif;
    }
  input[type="checkbox"]:checked + span {
      text-decoration: line-through;
      color: #888;
    }
  input[type="date"] {
    border: 2px solid #4fc3f7;
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 18px;
    font-family: 'Segoe UI', sans-serif;
    background-color: #ffffff;
    color: #333;
    outline: none;
    margin-bottom: 30px;
  }
  input[type="date"]:hover {
    border-color: #29b6f6;
  }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr">  flatpickr(dateInput, {
    dateFormat: "Y-m-d",
    defaultDate: "today",
    locale: "vn"
  });
  function updateFinalMessage() {
    const checkboxes = checklistItems;
    const excludeIndexes = [3, 6]; // exclude 'chÃ¬a khÃ³a' and final message
    const relevant = checkboxes.filter((_, i) => !excludeIndexes.includes(i));
    const allChecked = relevant.every(cb => cb.checked);
    finalMessage.style.display = allChecked ? 'list-item' : 'none';
  }

  checklistItems.forEach((cb, index) => {
    if (index !== 6) {
      cb.addEventListener('change', updateFinalMessage);
    }
  });

  updateFinalMessage();
</script>
</head>
<body>

<h1>Checklist cho MÃ¬nh Huyá»n ğŸ’–</h1>

<p>
  ChÃ o báº¡n Minh Huyá»n ğŸŒ¼<br>
  MÃ¬nh lÃ  chiáº¿c checklist nhá» xinh do Minh ChÃ¢u â€œvá»câ€ ra nÃ¨<br>
  MÃ¬nh Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ giÃºp báº¡n kiá»ƒm tra láº¡i má»i thá»© trÆ°á»›c khi ra vá», cho yÃªn tÃ¢m vÃ  Ä‘á»¡ sÃ³t viá»‡c nhe.<br>
  Cá»© tick tá»«ng dÃ²ng má»™t, nháº¹ nhÃ ng mÃ  hiá»‡u quáº£ láº¯m Ä‘Ã³<br>
  ğŸ¼â˜ï¸ğŸ»
</p>
<br>

<ul id="checklist">
  <li><input type="checkbox"> <span>Báº¡n lÃ m káº¿t ca chÆ°a?</span></li>
  <li><input type="checkbox"> <span>ÄÃ£ táº¯t Ä‘Ã¨n Ä‘iá»‡n háº¿t chÆ°a nÃ¨? Äá»ƒ láº¡i cÃ¡i nÃ o cáº§n thiáº¿t thÃ´i nha</span></li>
  <li><input type="checkbox"> <span>Biá»ƒn hiá»‡u Ä‘á»“ Ä‘Ã£ Ä‘Æ°á»£c mang vÃ o háº¿t chÆ°a?</span></li>
  <li><input type="checkbox"> <span>Nhá»› cáº§m theo chÃ¬a khÃ³a cá»­a hÃ ng nha (chá»‰ cáº§n náº¿u mai báº¡n lÃ m sÃ¡ng thui)</span></li>
  <li><input type="checkbox"> <span>KhÃ³a háº¿t cÃ¡c tá»§ cá»­a chÆ°a nÃ¨?</span></li>
  <li><input type="checkbox"> <span>ÄÃ³ng cá»­a cuá»‘n rá»“i chá»©?</span></li>
  <li id="final-message"><input type="checkbox" disabled checked style="display:none;"> <span>Oke háº¿t rá»“i pháº£i hem, Ä‘i dÃ¬a vá»›i mÃ¬nh hoi nÃ o â¤ï¸</span></li>
</ul>

<script>
  const checklistItems = Array.from(document.querySelectorAll('#checklist input[type="checkbox"]'));
  const finalMessage = document.getElementById('final-message');
  const checklistKeyPrefix = 'checklist-huyen-';

  // Create date input
  const dateInput = document.createElement('input');
  dateInput.type = 'date';
  dateInput.style = 'margin-top: 30px; padding: 10px; font-size: 18px;';
  const label = document.createElement('div');
const weekdayNames = ['Chá»§ Nháº­t', 'Thá»© Hai', 'Thá»© Ba', 'Thá»© TÆ°', 'Thá»© NÄƒm', 'Thá»© SÃ¡u', 'Thá»© Báº£y'];
const now = new Date();
const weekday = weekdayNames[now.getDay()];
const formattedDate = `${weekday}, ${String(now.getDate()).padStart(2, '0')}/${String(now.getMonth() + 1).padStart(2, '0')}/${now.getFullYear()}`;
label.textContent = `HÃ´m nay lÃ : ${formattedDate}`;
label.style = 'font-size: 27px; margin-bottom: 10px; font-weight: normal; font-family: Segoe UI, sans-serif;';
document.body.insertBefore(label, document.getElementById('checklist'));
document.body.insertBefore(dateInput, document.getElementById('checklist'));

  // Load checklist for selected date
  dateInput.addEventListener('change', () => {
    const dateKey = checklistKeyPrefix + dateInput.value;
    const saved = JSON.parse(localStorage.getItem(dateKey) || '[]');
    checklistItems.forEach((checkbox, i) => {
      checkbox.checked = !!saved[i];
    });
  });

  // Save on check/uncheck
  checklistItems.forEach((checkbox, i) => {
    checkbox.addEventListener('change', () => {
      const dateKey = checklistKeyPrefix + dateInput.value;
      const current = Array.from(checklistItems).map(cb => cb.checked);
      localStorage.setItem(dateKey, JSON.stringify(current));
    });
  });

  // Set default date to today
  const today = new Date().toISOString().split('T')[0];
  dateInput.value = today;
  dateInput.dispatchEvent(new Event('change'));
</script>

</body>
</html>
